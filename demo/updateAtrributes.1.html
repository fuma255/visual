<html>

<head>
    <title>Demo of visual</title>
    <meta charset="utf-8" />
    <style>
        #content {
            margin-top: 60px;
            background-color: black;
        }
    </style>
    <script src="../dist/visual.1.0.1.js"></script>
</head>

<body>
    <button id="add">add</button><button id="sub">sub</button>
    <div id="content" style="width:500px; height: 500px; border:1px solid #ccc;"></div>
    <script>
        var scale = [1, 1]
        let dom = document.getElementById('content');
        let v = new Visual(dom, {
            grid: {
                step: 1,
                scale: scale
            }
        });

        let line = v.line([
            [85, 86],
            [85, 89],
            [85, 104],
            [139, 85],
            [197, 85],
            [224, 85],
            [10, 10],
            [400, 10],
        ], {
                strokeStyle: '#4df693',
                lineWidth: 10
            });
        var content = v.ctx

        document.getElementById("add").onclick = function () {
            var width = v.canvas.getAttribute("width")
            var height = v.canvas.getAttribute("height");

            let scx = Math.floor(scale[0] * 2) || 1
            let scy = Math.floor(scale[1] * 2) || 1
            scale = [scx,scy]

            width = parseInt(width) * 2
            height = parseInt(height) * 2
            dom.style.height = height + "px";
            dom.style.width = width + "px";

            v.update(dom, {
                grid: {
                    step: 15,
                    scale: scale
                }
            })
        }
        //方法和上面相同,就是减小而已.
        document.getElementById("sub").onclick = function () {
            var width = v.canvas.getAttribute("width")
            var height = v.canvas.getAttribute("height");
            let scx = Math.floor(scale[0] * 0.5) || 1
            let scy = Math.floor(scale[1] * 0.5) || 1
            scale = [scx,scy]

            width = parseInt(width) * 0.5
            height = parseInt(height) * 0.5
            dom.style.height = height + "px";
            dom.style.width = width + "px";
            
            v.update(dom, {
                grid: {
                    step: 2,
                    scale: scale
                }
            })
        }
    </script>


</body>

</html>